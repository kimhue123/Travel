
 <!DOCTYPE html>
<html>
<head>
<title>Facebook Login JavaScript Example</title>
<meta charset="UTF-8">
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<!-- <script type="text/javascript" src="//connect.facebook.net/en_US/all.js"></script>-->
<!-- <script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.2&appId=178915645964244";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
$(document).ready(function(){
FB.api('/me', function(response) {
    console.log(JSON.stringify(response));
});
});
</script> -->
</head>


<body>
<!-- <div id="fb-root"></div>
<script type="text/javascript">

window.fbAsyncInit = function() {
    FB.init({
    appId: '178915645964244',
    status: true,
    cookie: true,
    xfbml: true
});
};

// Load the SDK asynchronously
(function(d){
var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
if (d.getElementById(id)) {return;}
js = d.createElement('script'); js.id = id; js.async = true;
js.src = "//connect.facebook.net/en_US/all.js";
ref.parentNode.insertBefore(js, ref);
}(document));

var objects;
var val;
function login() {
FB.login(function(response){
objects = response;
var  value= objects[Object.getOwnPropertyNames(objects)[1]];
val = value[Object.getOwnPropertyNames(value)[0]];
var st = '{"token": "' + val + '"}';

$.ajax({ 
    url:"getUserID",
    type:"POST", 
    contentType: "application/json; charset=utf-8",
    data: st, //Stringified Json Object
    dataType : "json",
    async: true,    //Cross-domain requests and dataType: "jsonp" requests do not support synchronous operation
    cache: false,    //This will force requested pages not to be cached by the browser  
     processData:false, //To avoid making query String instead of JSON
     success: function(resposeJsonObject){
			document.location.reload();
    }
});
});            
}
console.log(val);
function fbLogoutUser() {
FB.getLoginStatus(function(response) {
    if (response && response.status === 'connected') {
        FB.logout(function(response) {
            document.location.reload();
            $.ajax({ 
                url:"logout",
                type:"POST", 
                 success: function(){
						alert('logout is');
                }
            });
        });
    }
});
}
</script> -->
        <script>
        window.fbAsyncInit = function() {
                FB.init({
                appId: '178915645964244',
                status: true,
                cookie: true,
                xfbml: true
            });
        };
        
        // Load the SDK asynchronously
        (function(d){
        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        ref.parentNode.insertBefore(js, ref);
        }(document));
        
        var objects;
        var val;
        function login() {
            FB.login(function(response) {
            	console.log(response);
            objects = response;
            var  value= objects[Object.getOwnPropertyNames(objects)[1]];
            console.log(value);
            if(value=="connected"){
            	value= objects[Object.getOwnPropertyNames(objects)[0]];
            	 val = value[Object.getOwnPropertyNames(value)[0]];
                 console.log(val);
                 console.log(val);
             	 var st = '{"token": "' + val + '"}'; 
                 $.ajax({ 
                     url:"getJson",
                     type:"POST", 
                     contentType: "application/json; charset=utf-8",
                     dataType : 'text',
                     data:  st, //Stringified Json Object
                     async: true,    //Cross-domain requests and dataType: "jsonp" requests do not support synchronous operation
                     cache: false,    //This will force requested pages not to be cached by the browser  
                      processData:false, //To avoid making query String instead of JSON
                      success: function(resposeJsonObject){
                         console.log(resposeJsonObject)
                     }
                 });
            }else{
            	value= objects[Object.getOwnPropertyNames(objects)[1]];
            val = value[Object.getOwnPropertyNames(value)[0]];
            console.log(val);
            console.log(val);
        	 var st = '{"token": "' + val + '"}'; 
            $.ajax({ 
                url:"getJson",
                type:"POST", 
                contentType: "application/json; charset=utf-8",
                dataType : 'text',
                data:  st, //Stringified Json Object
                async: true,    //Cross-domain requests and dataType: "jsonp" requests do not support synchronous operation
                cache: false,    //This will force requested pages not to be cached by the browser  
                 processData:false, //To avoid making query String instead of JSON
                 success: function(resposeJsonObject){
                    console.log(resposeJsonObject)
                }
            });
            }
        });
        }
       
        function logout() {
            FB.logout(function(response) {
              // user is now logged out
            });
        }

      
        
       /*  $(function() {
        	  document.getElementById("aa").setAttribute("href", "https://graph.facebook.com/app?access_token="+test());
        	}); */
		
        </script>
      <!--   <script type="text/javascript">
        function getUserID() {
        	console.log(val);
        	var st = '{"token": "' + val + '"}';
            $.ajax({ 
                url:"getJson",
                type:"POST", 
                contentType: "application/json; charset=utf-8",
                data: st, //Stringified Json Object
                dataType : "json",
                async: true,    //Cross-domain requests and dataType: "jsonp" requests do not support synchronous operation
                cache: false,    //This will force requested pages not to be cached by the browser  
                 processData:false, //To avoid making query String instead of JSON
                 success: function(resposeJsonObject){
                    console.log(resposeJsonObject)
                }
            });
		}
        </script> -->

        <button onclick="javascript:login();">Login Facebook</button>


        <button onclick="javascript:logout();">Logout from Facebook</button>
        <button  onclick="javascript:getUserID();">aaa</button>
        
</html>
<!-- <script type="text/javascript">
$(document).ready(function({
FB.login(function(response){
	  // Note: The call will only work if you accept the permission request
	  FB.api('/me/feed', 'post', {message: 'Hello, world!'});
	}, {scope: 'publish_actions'});
});
</script> -->

  <!-- <link rel="stylesheet" href="style.css" />
  <title>jQuery Example</title>
  <script>
    $(document).ready(function() {
    	$.ajaxSetup({ cache: true });
    	  $.getScript('//connect.facebook.net/en_US/sdk.js', function(){
    	    FB.init({
    	      appId: '178915645964244',
    	      version: 'v2.7' // or v2.1, v2.2, v2.3, ...
    	    });     
    	    $('#loginbutton,#feedbutton').removeAttr('disabled');
    	    FB.getLoginStatus(updateStatusCallback);
    	  });
    });
  </script> -->

